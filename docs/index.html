<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis of Temporal and Spatial Trends in Sea Ice • seaiceR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analysis of Temporal and Spatial Trends in Sea Ice">
<meta property="og:description" content="What the package does (one paragraph).">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">seaiceR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nxskok/seaiceR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="seaicer" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#seaicer" class="anchor"></a>seaiceR</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of seaiceR is to simplify temporal and spatial analysis of sea ice data (for example, break-up dates for a number of years at a number of locations in a study area).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of seaiceR from Github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"nxskok/seaiceR"</span>)</a></code></pre></div>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>You need two data frames to start (eg. read in from spreadsheets):</p>
<ul>
<li>the data file, with years as rows and columns as locations, and the body of the table containing eg. the number of days between the start of the year and break-up of ice. The first column should be called <code>year</code> (lowercase).</li>
<li>locations of points within the study area. This needs to be a data frame with columns called exactly Location, Longitude and Latitude (in some order, with initial uppercase). Longitudes are assumed to be west (so positive numbers here will be made negative for the maps).</li>
</ul>
<p>The package includes data frames called <code>nine_points</code> and <code>nine_points_locations</code> which are real data from nine points. These data can be used to try out the package, and will be demonstrated here.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The basic function that does the whole analysis for a data set is called <code>make_everything</code>. This has defaults, but needs input of the data frames described above plus a parameter <code>n_cluster</code> which is the number of clusters for the cluster analysis. The last input <code>n_cluster</code> must be specified by name (the function has a lot of optional inputs).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(seaiceR)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="reference/make_everything.html">make_everything</a></span>(nine_points, nine_points_locations, <span class="dt">n_cluster=</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/5/8/5.png</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; Source : http://tile.stamen.com/toner-lite/5/8/6.png</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; $temporal</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; $temporal[[1]]</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; # A tibble: 9 x 10</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt;   location data      z z_star ratio P_value P_value_adj P_value_2</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;      &lt;dbl&gt; &lt;lis&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; 1        1 &lt;tib…  3.00   3.00 1     2.71e-3   0.00271   0.002711…</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; 2        2 &lt;tib…  3.23   3.23 1     1.25e-3   0.00125   0.001246…</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; 3        3 &lt;tib…  2.77   2.77 1     5.61e-3   0.00561   0.005614…</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt; 4        4 &lt;tib…  2.90   2.90 1     3.76e-3   0.00376   0.003761…</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; 5        5 &lt;tib…  2.97   3.95 0.564 2.99e-3   0.0000771 0.002991…</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; 6        6 &lt;tib…  3.26   3.26 1     1.11e-3   0.00111   0.001106…</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; 7        7 &lt;tib…  2.10   1.85 1.28  3.59e-2   0.0641    0.035942…</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; 8        8 &lt;tib…  2.76   2.10 1.74  5.71e-3   0.0361    0.005706…</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; 9        9 &lt;tib…  3.60   3.60 1     3.19e-4   0.000319  0.000318…</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; # … with 2 more variables: P_value_adj_2 &lt;chr&gt;, P_level &lt;fct&gt;</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt; $temporal[[2]]</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt;   `P_value_adj &lt;= alpha`     n</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt;   &lt;lgl&gt;                  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; 1 FALSE                      1</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; 2 TRUE                       8</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; $temporal[[3]]</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; # A tibble: 9 x 3</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co">#&gt;   location data              theil_sen</span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co">#&gt;      &lt;dbl&gt; &lt;list&gt;                &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"><span class="co">#&gt; 1        1 &lt;tibble [47 × 2]&gt;     0.5  </span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"><span class="co">#&gt; 2        2 &lt;tibble [47 × 2]&gt;     0.583</span></a>
<a class="sourceLine" id="cb2-34" data-line-number="34"><span class="co">#&gt; 3        3 &lt;tibble [47 × 2]&gt;     0.5  </span></a>
<a class="sourceLine" id="cb2-35" data-line-number="35"><span class="co">#&gt; 4        4 &lt;tibble [48 × 2]&gt;     0.5  </span></a>
<a class="sourceLine" id="cb2-36" data-line-number="36"><span class="co">#&gt; 5        5 &lt;tibble [48 × 2]&gt;     0.56 </span></a>
<a class="sourceLine" id="cb2-37" data-line-number="37"><span class="co">#&gt; 6        6 &lt;tibble [48 × 2]&gt;     0.613</span></a>
<a class="sourceLine" id="cb2-38" data-line-number="38"><span class="co">#&gt; 7        7 &lt;tibble [48 × 2]&gt;     0.789</span></a>
<a class="sourceLine" id="cb2-39" data-line-number="39"><span class="co">#&gt; 8        8 &lt;tibble [48 × 2]&gt;     0.438</span></a>
<a class="sourceLine" id="cb2-40" data-line-number="40"><span class="co">#&gt; 9        9 &lt;tibble [48 × 2]&gt;     0.583</span></a>
<a class="sourceLine" id="cb2-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-42" data-line-number="42"><span class="co">#&gt; $temporal[[4]]</span></a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="co">#&gt; # A tibble: 1 x 7</span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="co">#&gt;    mean    SD   min    Q1 median    Q3   max</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"><span class="co">#&gt; 1 0.563 0.101 0.438   0.5   0.56 0.583 0.789</span></a>
<a class="sourceLine" id="cb2-47" data-line-number="47"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-48" data-line-number="48"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-49" data-line-number="49"><span class="co">#&gt; $spatial</span></a>
<a class="sourceLine" id="cb2-50" data-line-number="50"><span class="co">#&gt; $spatial[[1]]</span></a>
<a class="sourceLine" id="cb2-51" data-line-number="51"><span class="co">#&gt; Warning in min(x): no non-missing arguments to min; returning Inf</span></a>
<a class="sourceLine" id="cb2-52" data-line-number="52"><span class="co">#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</span></a>
<a class="sourceLine" id="cb2-53" data-line-number="53"><span class="co">#&gt; Warning in min(x): no non-missing arguments to min; returning Inf</span></a>
<a class="sourceLine" id="cb2-54" data-line-number="54"><span class="co">#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</span></a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[2]]
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf

#&gt; Warning in min(x): no non-missing arguments to max; returning -Inf
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf
#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-2.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[3]]
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf

#&gt; Warning in min(x): no non-missing arguments to max; returning -Inf
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf
#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-3.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[4]]</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-4.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[5]]
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf

#&gt; Warning in min(x): no non-missing arguments to max; returning -Inf
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf
#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-5.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[6]]</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-6.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[7]]
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf

#&gt; Warning in min(x): no non-missing arguments to max; returning -Inf
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf
#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-7.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[8]]</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-8.png" width="100%"></p>
<pre><code>#&gt; 
#&gt; $spatial[[9]]
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf

#&gt; Warning in min(x): no non-missing arguments to max; returning -Inf
#&gt; Warning in min(x): no non-missing arguments to min; returning Inf
#&gt; Warning in max(x): no non-missing arguments to max; returning -Inf</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-2-9.png" width="100%"></p>
<p>Of course, the initial number of clusters will be a complete guess, but the output includes a scree plot and dendrograms, so <code>make_everything</code> can be run a second time with an improved number of clusters.</p>
<p>There is a lot of output. Specifically, in order:</p>
<ul>
<li>Mann-Kendall temporal trend analysis for each location, including adjustment for autocorrelation. The last column summarizes the P-value as less than 0.01, between 0.01 and 0.05, between 0.05 and 0.10, greater than 0.10 (for use in the map later).</li>
<li>Summary of how many Mann-Kendall tests have P-value 0.05 or less.</li>
<li>Theil-Sen slopes per year, for each location.</li>
<li>Mean, standard deviation and five-number summary of the Theil-Sen slopes.</li>
<li>A map of the locations.</li>
<li>A map of the locations with Mann-Kendall significance colour-coded.</li>
<li>A map of the locations with the size of the Theil-Sen slope indicated by the size of the point.</li>
<li>Ward’s cluster analysis with missing values included: a dendrogram followed by a map with the locations colour-coded by cluster.</li>
<li>A repeat of the above but with missing values removed first: a dendrogram followed by a map. I’m not very happy with the dendrograms; I like the <code>rect.hclust</code> output with rectangles better. Here, the clusters are indicated by the colour of the labels at the bottom.</li>
<li>A scree plot for determining the number of clusters in a K-means analysis. This one has an elbow at 4, indicating 4 clusters.</li>
<li>A map of the locations with the K-means clusters colour-coded.</li>
</ul>
</div>
<div id="tweakable-things" class="section level2">
<h2 class="hasAnchor">
<a href="#tweakable-things" class="anchor"></a>Tweakable things</h2>
<ul>
<li>as mentioned before, <code>n_cluster</code> can be changed with an improved number of clusters (or to compare the output from several numbers of clusters).</li>
<li>if the area covered by the map is not correct (eg. too small, and you want more of the surrounding area), enter values for <code>bounding_box</code>: in order, the bottom left longitude and latitude, and the top right longitude and latitude. Longitudes west (or, I guess latitudes south, but I haven’t tested that) should be entered as negative numbers. This package uses Stamen maps, which come out with exactly the bounding box you ask for (unlike Google maps, which always come out square). Enthusiasts of Stamen maps may note that I chose “toner-lite” for this package. I wanted the sea to be a neutral enough background to see colours against.</li>
<li>if the map looks too “fuzzy” and could stand to be sharpened up, enter a value for <code>zoom</code>. This can be anything between 1 and 18; a higher value will be sharper, but entails downloading more map tiles. The default is 5.</li>
<li>if you want all the points on the Theil-Sen plot to be bigger or smaller, enter a value for <code>scaling</code>. The default is 1, so a value like 2 will make all the points bigger and a value like 0.5 will make them all smaller.</li>
</ul>
<p>Don’t be afraid to run several times until you have output that looks nice. R can take it. (There is some repetitiveness in the calculation anyway).</p>
<p>oh, and I need to include time trend graphs as well.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/nxskok/seaiceR">https://​github.com/​nxskok/​seaiceR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/nxskok/seaiceR/issues">https://​github.com/​nxskok/​seaiceR/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ken Butler <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ken Butler.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
